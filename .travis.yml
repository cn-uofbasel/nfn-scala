sudo: true # Enable container-based infrastructure

language: scala
scala:
        - 2.10.4

# cache: apt # Enable caching on APT when it is available for our repo

os:
    - linux
    - osx

branches:
    only:
        - master
        - dev-master

env:
        - CCNL_HOME="/home/travis/build/cn-uofbasel/ccn-lite" PATH=$PATH:"$CCNL_HOME/bin" USE_NFN=1

addons:
    apt:
        packages:
            - libssl-dev
            - build-essential
#            - linux-headers-$(uname -r)

install:
    - echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections
    - sudo add-apt-repository -y ppa:webupd8team/java
    - sudo apt-get update && sudo apt-get install -y oracle-java8-installer
    - sudo apt-get install oracle-java8-set-default
    - java -version
    - cd ..
    - git clone https://github.com/cn-uofbasel/ccn-lite.git
    - cd -

script:
    - cd $CCNL_HOME/src
    - pwd
    - echo $CCNL_HOME
    - echo ~  
    - make clean all
    - cd -
    - sbt compile
#    - sbt 'runMain runnables.evaluation.WordcountApp'
